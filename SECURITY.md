# üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å Chatroulette Backend

## üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### **–ü–∞—Ä–æ–ª–∏:**
- ‚úÖ **–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ bcrypt** - –ø–∞—Ä–æ–ª–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ
- ‚úÖ **–°–æ–ª—å (salt)** - –∑–∞—â–∏—Ç–∞ –æ—Ç rainbow tables
- ‚úÖ **–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å** –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å
- ‚úÖ **–°—Ç–æ–π–∫–æ—Å—Ç—å –∫ –±—Ä—É—Ç—Ñ–æ—Ä—Å—É** - bcrypt –º–µ–¥–ª–µ–Ω–Ω—ã–π –ø–æ –¥–∏–∑–∞–π–Ω—É

### **JWT —Ç–æ–∫–µ–Ω—ã:**
- ‚úÖ **–ü–æ–¥–ø–∏—Å—å —Å–µ–∫—Ä–µ—Ç–Ω—ã–º –∫–ª—é—á–æ–º** - –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–¥–¥–µ–ª–∞—Ç—å
- ‚úÖ **–í—Ä–µ–º—è –∏—Å—Ç–µ—á–µ–Ω–∏—è** - —Ç–æ–∫–µ–Ω—ã –¥–µ–π—Å—Ç–≤—É—é—Ç 7 –¥–Ω–µ–π
- ‚úÖ **–¢–æ–ª—å–∫–æ user_id** - –Ω–∏–∫–∞–∫–∏—Ö —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
- ‚úÖ **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è** - SSL/TLS
- ‚úÖ **–ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** - –∫–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ **–ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞—Ä–æ–ª—è–º** - –¥–∞–∂–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –ë–î

## üîí Middleware –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### **–ó–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
```go
X-Content-Type-Options: nosniff
X-Frame-Options: DENY  
X-XSS-Protection: 1; mode=block
Strict-Transport-Security: max-age=31536000
```

### **–ó–∞—â–∏—Ç–∞ –æ—Ç –∞—Ç–∞–∫:**
- ‚úÖ **XSS –∑–∞—â–∏—Ç–∞** - –∑–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ **Clickjacking –∑–∞—â–∏—Ç–∞** - X-Frame-Options
- ‚úÖ **SQL –∏–Ω—ä–µ–∫—Ü–∏–∏** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **Rate limiting** - –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞

## üö® –ß—Ç–æ –ù–ï –º–æ–≥—É—Ç –≤–∏–¥–µ—Ç—å

### **–î—Ä—É–≥–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:**
- ‚ùå –ü–∞—Ä–æ–ª–∏ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚ùå –õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚ùå –ß–∞—Ç—ã, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ —É—á–∞—Å—Ç–≤—É—é—Ç
- ‚ùå –°–æ–æ–±—â–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã:**
- ‚ùå –ü–∞—Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã)
- ‚ùå –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–π (–º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ)
- ‚ùå –õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±–µ–∑ —Å–æ–≥–ª–∞—Å–∏—è

### **–•–∞–∫–µ—Ä—ã (–ø—Ä–∏ –≤–∑–ª–æ–º–µ –ë–î):**
- ‚ùå –ü–∞—Ä–æ–ª–∏ (bcrypt –Ω–µ–æ–±—Ä–∞—Ç–∏–º)
- ‚ùå JWT —Å–µ–∫—Ä–µ—Ç—ã (–æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –ë–î)
- ‚ùå –ú–µ–¥–∏–∞ —Ñ–∞–π–ª—ã (–æ—Ç–¥–µ–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ)

## üîê –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:**
1. **HTTPS —Ç–æ–ª—å–∫–æ** - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
2. **–°–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏** - –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. **Firewall** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –ë–î
4. **Backup —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ** - –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –±—ç–∫–∞–ø—ã
5. **Audit –ª–æ–≥–∏** - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π

### **End-to-end —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ:**
```go
// –î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
func EncryptMessage(message, publicKey string) string {
    // –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –∫–ª—é—á–æ–º –ø–æ–ª—É—á–∞—Ç–µ–ª—è
    // –¢–æ–ª—å–∫–æ –ø–æ–ª—É—á–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å
}
```

### **–î–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:**
```go
// 2FA –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
func VerifyTOTP(userID, code string) bool {
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ TOTP –∫–æ–¥–∞
}
```

## üìä –£—Ä–æ–≤–Ω–∏ –¥–æ—Å—Ç—É–ø–∞

### **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
- ‚úÖ –°–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –°–≤–æ–∏ —á–∞—Ç—ã
- ‚úÖ –°–≤–æ–∏ —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚ùå –î–∞–Ω–Ω—ã–µ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### **–°–∏—Å—Ç–µ–º–∞:**
- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (—Ö–µ—à–∏ –ø–∞—Ä–æ–ª–µ–π)
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (JWT —Ç–æ–∫–µ–Ω—ã)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚ùå –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –ø–∞—Ä–æ–ª–µ–π

### **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:**
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–∞–Ω–æ–Ω–∏–º–Ω–∞—è)
- ‚úÖ –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- ‚ùå –ü–∞—Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚ùå –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–π

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### **1. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```bash
# .env
JWT_SECRET=super-secret-key-256-bits
DATABASE_URL=postgres://user:pass@localhost/db?sslmode=require
REDIS_URL=redis://localhost:6379
```

### **2. HTTPS:**
```go
// –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ HTTPS
if !c.Request.TLS {
    c.Redirect(301, "https://"+c.Request.Host+c.Request.URL.Path)
}
```

### **3. Rate Limiting:**
```go
// Redis-based rate limiting
func RateLimit(requests int, window time.Duration) gin.HandlerFunc {
    // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ IP
}
```

### **4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
```go
// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
func LogSecurityEvent(event, userID, ip string) {
    // –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
}
```

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏!**
- üîê –ü–∞—Ä–æ–ª–∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã –∏ –Ω–µ–æ–±—Ä–∞—Ç–∏–º—ã
- üõ°Ô∏è JWT —Ç–æ–∫–µ–Ω—ã –ø–æ–¥–ø–∏—Å–∞–Ω—ã –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã  
- üîí –ö–∞–∂–¥—ã–π –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
- üö® –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –∑–∞—â–∏—Ç—ã
- üìä –ê—É–¥–∏—Ç –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**–ù–∏–∫—Ç–æ –Ω–µ –º–æ–∂–µ—Ç —É–≤–∏–¥–µ—Ç—å –≤–∞—à–∏ –ø–∞—Ä–æ–ª–∏ –∏–ª–∏ –ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ!** üõ°Ô∏è
